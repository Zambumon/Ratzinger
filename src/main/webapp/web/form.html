<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="css/material.min.css">
    <link rel="stylesheet" href="css/myStyle.css">
    <script src="js/material.min.js"></script>
    <script src="js/jquery-2.1.4.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <title>Musica para DAA</title>
</head>

<body>

    <form id="form" action="./index.jsp" method="POST">
        <div class="demo-card-wide mdl-card mdl-shadow--2dp">
            <div class="mdl-card__title" id="cabeceraTarxetaInicio">
                <h2 class="mdl-card__title-text">Welcome</h2>
            </div>

            
            
            <div class="mdl-card__supporting-text">
            <!--contido tarxeta-->

              <div style="float: left">
                  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label block">
                    <input class="mdl-textfield__input" type="text" id="name" name="name" required>
                    <label class="mdl-textfield__label" for="name">Nombre...</label>
                  </div>

                  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label block">
                    <input class="mdl-textfield__input" type="text" id="author" name="author">
                    <label class="mdl-textfield__label" for="author">Autor...</label>
                  </div>

                  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label block">
                    <input class="mdl-textfield__input" type="text" id="country" name="country">
                    <label class="mdl-textfield__label" for="country">Pa√≠s...</label>
                  </div>

                  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label block">
                    <input class="mdl-textfield__input" type="text" id="price" name="price" required>
                    <label class="mdl-textfield__label" for="price">Precio...</label>
                  </div>

                  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label block">
                    <input class="mdl-textfield__input" type="text" id="quantity" name="quantity" required>
                    <label class="mdl-textfield__label" for="quantity">Cantidad...</label>
                  </div>
                
                  <div class="mdl-textfield mdl-js-textfield">
                    <textarea class="mdl-textfield__input" type="text" rows= "5" id="description" name="description" style="height: 150px"></textarea>
                    <label class="mdl-textfield__label" for="description">Descripcion...</label>
                  </div>
              </div>
                
              <div style="float: right">
                  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label block">
                    <input class="mdl-textfield__input" type="text" id="imagen" name="imagen" value="http://45.media.tumblr.com/81c32734659aa35928faf5e5ceea44e6/tumblr_nwbxo7j1Q11s9ab4to1_400.gif">
                    <label class="mdl-textfield__label" for="imagen">Imagen</label>
                  </div>
                  <p><img src="http://www.puya.se/wp-content/uploads/2016/03/PuyaSubs-Gintama-S3-01-720pE5C140D3V2-013.jpg" id="productimg" style="width:300px"></p>
              </div>

               <input type="hidden" name="action" id="action" value="signUpUser">
            <!--fin contido tarxeta-->
          </div>

            <script>
                var valid=true;

                function urlExists(url, callback){
                    $.ajax({
                        type: 'HEAD',
                        url: url,
                        success: function(){
                            callback(true, url);
                        },
                        error: function() {
                            callback(false, url);
                        }
                    });
                }

                function doit(sucess, imagesrc){
                    if (sucess){
                        if (!(/(jpg|jpeg|gif|png)$/i.test(imagesrc))) {
                            //alert("the file is not an image");
                            imagesrc = 'images/notfound.png';
                            $('#imagen').val('Not an image');
                        } else {

                        }
                    } else {
                        //alert("There's nothing");
                        imagesrc = 'images/notfound.png';
                        $('#imagen').val('Invalid link');
                    }
                    $('#productimg').attr('src', imagesrc);
                }

                $('document').ready(function(){
                    $('#imagen').focusout(function(){
                        var imagesrc = $('#imagen').val();
                        urlExists(imagesrc, doit);
                    });
                });
            </script>
            
            

            
            <div class="mdl-card__actions mdl-card--border">
                <input type="submit" value="Seleccionar Producto" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" style="float:right;">
                <input type="button" value="Ver Carrito" id="verCarrito" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" style="float:right;">
            </div>
        </div>
    </form>
</body>

</html>